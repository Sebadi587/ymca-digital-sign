<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>YMCA Digital Sign with Video</title>
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body, html { height: 100%; font-family: Arial, sans-serif; background: black; }
  .container { display: flex; height: 100vh; width: 100vw; }
  .media-section {
    width: 70%;
    position: relative;
    overflow: hidden;
  }
  .media-item {
    position: absolute;
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: none;
  }
  .info-section {
    width: 30%; 
    background: linear-gradient(180deg, #00aeef 0%, #d81159 100%);
    color: white; 
    padding: 40px; 
    display: flex; 
    flex-direction: column; 
    justify-content: center; 
    align-items: flex-end; 
    gap: 40px;
  }
  .clock { font-size: 100px; font-weight: bold; width: 100%; text-align: right; }
  .weather { font-size: 36px; font-weight: 700; display: flex; align-items: center; gap: 15px; width: 100%; justify-content: flex-end; }
  .weather-icon { width: 50px; height: 50px; }

  iframe.media-item {
    border: none;
  }
</style>
</head>
<body>
  <div class="container">
    <div class="media-section">
      <img src="Fall 1 TV Slides - Untitled Page.jpeg" alt="Slide 1" class="media-item" />
      <img src="Personal Training 2025.jpg" alt="Slide 2" class="media-item" />
      <img src="Rock Steady Boxing TV (1).png" alt="Slide 3" class="media-item" />
      <img src="YMCA Day Camp 2025 - Untitled Page (1).jpeg" alt="Slide 4" class="media-item" />

      <iframe
        class="media-item"
        src="https://www.youtube.com/embed/NYOnvegxZrM?autoplay=1&mute=1&loop=1&playlist=NYOnvegxZrM"
        allow="autoplay; encrypted-media"
        allowfullscreen
      ></iframe>
    </div>
    <div class="info-section">
      <div id="clock" class="clock">--:--:--</div>
      <div id="weather" class="weather">Loading weather...</div>
    </div>
  </div>

  <script>
    // Clock
    function updateClock() {
      const now = new Date();
      const h = now.getHours().toString().padStart(2, '0');
      const m = now.getMinutes().toString().padStart(2, '0');
      const s = now.getSeconds().toString().padStart(2, '0');
      document.getElementById('clock').textContent = `${h}:${m}:${s}`;
    }
    setInterval(updateClock, 1000);
    updateClock();

    // Weather
    async function updateWeather() {
      const apiKey = "5ab0d9170706b9fc7fb28f106338bf6b";
      const city = "Duluth";
      const url = `https://api.openweathermap.org/data/2.5/weather?q=${city}&appid=${apiKey}&units=imperial`;
      try {
        const res = await fetch(url);
        const data = await res.json();
        const temp = Math.round(data.main.temp);
        const condition = data.weather[0].main;
        const iconCode = data.weather[0].icon;
        const iconUrl = `https://openweathermap.org/img/wn/${iconCode}@2x.png`;
        document.getElementById("weather").innerHTML = `
          <img src="${iconUrl}" class="weather-icon" alt="weather icon" />
          ${city}: ${temp}Â°F, ${condition}
        `;
      } catch {
        document.getElementById("weather").textContent = "Weather unavailable";
      }
    }
    setInterval(updateWeather, 60000);
    updateWeather();

    // Slideshow logic
    const mediaItems = document.querySelectorAll('.media-item');
    let currentIndex = 0;

    function showNextItem() {
      mediaItems.forEach(item => item.style.display = 'none');
      mediaItems[currentIndex].style.display = 'block';

      // Show video longer (2 min) and pictures shorter (1 min)
      const delay = (mediaItems[currentIndex].tagName.toLowerCase() === 'iframe') ? 120000 : 60000;

      currentIndex = (currentIndex + 1) % mediaItems.length;
      setTimeout(showNextItem, delay);
    }

    showNextItem();
  </script>
</body>
</html>
